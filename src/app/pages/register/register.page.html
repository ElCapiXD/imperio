<ion-header>
  <ion-toolbar class="toolbar-dark">
    <ion-buttons slot="start">
      <ion-button (click)="goBack()" fill="clear" class="back-btn">
        <ion-icon name="chevron-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Crear cuenta</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="register-page" fullscreen>
  <div class="bg-gradient"></div>

  <div class="container">
    <div class="brand">
      <div class="small-title">Reg√≠strate en</div>
      <div class="logo">IMPERIO <span>GYM</span></div>
    </div>

    <div class="card">
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <!-- Nombre -->
        <ion-item class="input-item" lines="none">
          <ion-icon name="person-outline" slot="start"></ion-icon>
          <ion-input formControlName="nombre" placeholder="Nombre completo" type="text"></ion-input>
        </ion-item>
        <div class="error" *ngIf="nombre.invalid && (nombre.touched || nombre.dirty)">
          <span *ngIf="nombre.hasError('required')">El nombre es obligatorio.</span>
          <span *ngIf="nombre.hasError('minlength')">M√≠nimo 3 caracteres.</span>
        </div>

        <!-- DNI -->
        <ion-item class="input-item" lines="none">
          <ion-icon name="id-card-outline" slot="start"></ion-icon>
          <ion-input formControlName="dni" placeholder="DNI (8 d√≠gitos)" inputmode="numeric" maxlength="8"></ion-input>
        </ion-item>
        <div class="error" *ngIf="dni.invalid && (dni.touched || dni.dirty)">
          <span *ngIf="dni.hasError('required')">El DNI es obligatorio.</span>
          <span *ngIf="dni.hasError('pattern')">El DNI debe tener exactamente 8 d√≠gitos.</span>
        </div>

        <!-- Correo -->
        <ion-item class="input-item" lines="none">
          <ion-icon name="mail-outline" slot="start"></ion-icon>
          <ion-input formControlName="correo" placeholder="Correo" type="email" inputmode="email"></ion-input>
        </ion-item>
        <div class="error" *ngIf="correo.invalid && (correo.touched || correo.dirty)">
          <span *ngIf="correo.hasError('required')">El correo es obligatorio.</span>
          <span *ngIf="correo.hasError('email')">Ingresa un correo v√°lido.</span>
        </div>

        <!-- Tel√©fono -->
        <ion-item class="input-item" lines="none">
          <ion-icon name="call-outline" slot="start"></ion-icon>
          <ion-input formControlName="telefono" placeholder="Tel√©fono (9 d√≠gitos)" inputmode="numeric" maxlength="9"></ion-input>
        </ion-item>
        <div class="error" *ngIf="telefono.invalid && (telefono.touched || telefono.dirty)">
          <span *ngIf="telefono.hasError('required')">El tel√©fono es obligatorio.</span>
          <span *ngIf="telefono.hasError('pattern')">El tel√©fono debe tener exactamente 9 d√≠gitos.</span>
        </div>

        <!-- Direcci√≥n -->
        <ion-item class="input-item" lines="none">
          <ion-icon name="location-outline" slot="start"></ion-icon>
          <ion-input formControlName="direccion" placeholder="Direcci√≥n" type="text"></ion-input>
        </ion-item>
        <div class="error" *ngIf="direccion.invalid && (direccion.touched || direccion.dirty)">
          <span *ngIf="direccion.hasError('required')">La direcci√≥n es obligatoria.</span>
        </div>

        <!-- üîê Contrase√±a -->
        <ion-item class="input-item" lines="none">
          <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
          <ion-input
            formControlName="password"
            placeholder="Contrase√±a"
            type="password">
          </ion-input>
        </ion-item>
        <div class="error" *ngIf="password.invalid && (password.touched || password.dirty)">
          <span *ngIf="password.hasError('required')">La contrase√±a es obligatoria.</span>
          <span *ngIf="password.hasError('minlength')">M√≠nimo 6 caracteres.</span>
        </div>

        <!-- Bot√≥n -->
        <ion-button expand="block" size="large" type="submit" [disabled]="registerForm.invalid" class="btn-gold">
          REGISTRARSE
        </ion-button>
      </form>

      <div class="helper-row">
        <div class="have-account">¬øYa tienes cuenta?</div>
        <button ion-button (click)="goToLogin()" class="link-btn">Inicia sesi√≥n</button>
      </div>
    </div>

    <div class="footer-note">
      <ion-button fill="clear" (click)="goBack()" size="small">
        ‚Üê Volver
      </ion-button>
    </div>
  </div>
</ion-content>
